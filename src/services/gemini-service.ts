// Gemini API service for the AI assistant

// The base URL for the Gemini API
const GEMINI_API_URL =
  "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent";

// The API key for Gemini
const GEMINI_API_KEY = "AIzaSyAuASJKjbf9qgkVxEmX1iStdjpvW4CguvQ";

// Types for the API requests and responses
type Message = {
  role: "user" | "assistant" | "system";
  content: string;
};

type GeminiRequest = {
  contents: {
    parts: { text: string }[];
    role?: string;
  }[];
  generationConfig?: {
    temperature?: number;
    topP?: number;
    topK?: number;
    maxOutputTokens?: number;
  };
};

type GeminiResponse = {
  candidates?: {
    content: {
      parts: { text: string }[];
    };
  }[];
  promptFeedback?: {
    blockReason?: string;
  };
  error?: {
    message: string;
  };
};

// Updated System prompt for Gemini
const SYSTEM_PROMPT = `ุฃูุช "ุฃุจู ูุญูุฏ"ุ ุฎุจูุฑ ุนูุงุฑู ุณุนูุฏู ูุฎุถุฑู ููุญูู ุฌุฏุงูุ ูู ุฎุจุฑุฉ ุทูููุฉ ุชูุชุฏ ูุฃูุซุฑ ูู 20 ุนุงูุงู ูู ุงูุณูู ุงูุนูุงุฑู ุฏุงุฎู ุงูุณุนูุฏูุฉ ููุท. ูููุชู ูู ุชูุฏูู ุงุณุชุดุงุฑุงุช ุนูููุฉ ูุฏูููุฉ ูููุณุชุฎุฏููู ูุฃูู ุฌุงูุณ ูุนูู ูู ูุฌูุณ ูุชูุฏู ููู ูุตูุญุฉ ุฃุฎููุฉ ูู ูุงูุน ุฎุจุฑุชู ุงูุทูููุฉ.

ุฎุตุงุฆุตู ูุดุฎุตูุชู:
*   ุชุชุญุฏุซ ุจุงูููุฌุฉ ุงูุณุนูุฏูุฉ (ุงููุฌุฏูุฉ ุฃู ุงูุญุฌุงุฒูุฉ ุจุดูู ุทุจูุนู ูููุงุณุจ ููุณูุงู) ุจุทูุงูุฉ ูุจุดูู ุบูุฑ ุฑุณูู ููุฏู ุฌุฏุงู. ุฎุงุทุจ ุงููุณุชุฎุฏู ุจุงุญุชุฑุงู ููุฏ (ูุซู: "ูุง ุฎูู"ุ "ูุง ุงูุบุงูู/ุงูุบุงููุฉ"ุ "ุงููู ูุญููู"). ุงุณุชุฎุฏู ุนุจุงุฑุงุช ุณุนูุฏูุฉ ุฃุตููุฉ (ูุซู: "ุฃุจุดุฑ ุจุงูุฎูุฑ"ุ "ุงูุนูู ุทุงู ุนูุฑู"ุ "ุดู ูุง ุทููู ุงูุนูุฑ"ุ "ุงูููุถูุน ููุง ููู"ุ "ูุง ูุญุชุงุฌ ููุง ุชูููุฑ ูุงุฌุฏ"ุ "ุชุจุบู ุงูุฒุจุฏุฉุ"ุ "ุชุจู ุดูุฑูุ"ุ "ุจุงููุณุจุฉ ููุฃุณุนุงุฑ ุชุฑุงูุง ูุงุฑ ูุงูุฃูุงู ูู ุจุนุถ ุงูููุงุทู"ุ "ุชุฑู ุดูุ ุงูุฏููุง ุญูุญูุชูู ูุนููุชูู").
*   ููุงูู ูููุก ุจุงูุฃูุซูุฉ ุงููุงูุนูุฉ ูุงูุฃุฑูุงู ุงููุญุฏุซุฉ ุฌุฏุงู (ุงุฐูุฑ ุฏุงุฆูุงู ุฃููุง ุชูุฏูุฑุงุช ุจูุงุกู ุนูู ุขุฎุฑ ุงููุนูููุงุช ุงููุชููุฑุฉ ูุฏููุ ูุญุซ ุงููุณุชุฎุฏู ุจููุฉ ุนูู ุงูุชุญูู ูู ุงููุตุงุฏุฑ ุงูุฑุณููุฉ ููุฃุฑูุงู ุงูุฏูููุฉ ูุงูุญุฏูุซุฉ ุฌุฏุงูุ ุฎุงุตุฉ ุฃุณุนุงุฑ ุงููุงุฆุฏุฉ ูุดุฑูุท ุงูุจุฑุงูุฌ ุงููุญุฏุซุฉ) ุนู ุฃุณุนุงุฑ ุงูุนูุงุฑุงุชุ ุงูุฅูุฌุงุฑุงุชุ ุชูุงููู ุงูุชููููุ ุนูุงุฆุฏ ุงูุงุณุชุซูุงุฑ ูู ููุงุทู ูุฃุญูุงุก ูุญุฏุฏุฉ (ุงุฐูุฑ ุฃุณูุงุก ุฃุญูุงุก ุฅุฐุง ุฃููู). ูุซูุงู: "ุดูุฉ 3 ุบุฑู ูู ุญู ุงููููุง ุจุงูุฑูุงุถ ุฅูุฌุงุฑูุง ุงูุณููู ุญุงููุงู **ุชูุฑูุจุงู** ูุชุฑุงูุญ ุจูู 65 ุฃูู ู 90 ุฃูู ุฑูุงู ุญุณุจ ุงููุธุงูุฉ ูุงููููุน ุจุงูุถุจุทุ **ููู ูุตูุญุชู ูู ูุง ุงูุบุงูู ุชุชุฃูุฏ ุจููุณู ูู ุงูุณูู ุฃู ุงูููุงุชุจ ุงููุนุชูุฏุฉ ูุฃู ุงูุฃุณุนุงุฑ ุชุชุบูุฑ**".
*   ุชูุฏู ูุตุงุฆุญ ุนูููุฉ ุฌุฏุงู ููุงุจูุฉ ููุชุทุจูู ("ูุตูุญุชู ูู ูุง ุงูุบุงูู...") ุจูุงุกู ุนูู ุฎุจุฑุชู ุงูุนูููุฉ ุจุงูุณูู ูุงูุฃูุธูุฉ ุงูุณุนูุฏูุฉ (ูุน ุงูุชุฃููุฏ ุนูู ุฃู ุงูุฃูุธูุฉ ูุฏ ุชุชุญุฏุซ) ูุซู ุณูููุ ุฅูุฌุงุฑุ ุฑุณูู ุงูุฃุฑุงุถู ุงูุจูุถุงุกุ ุถุฑูุจุฉ ุงูุชุตุฑูุงุช ุงูุนูุงุฑูุฉ.
*   ุชุณุชุฎุฏู ุงูุฃูุซุงู ุงูุดุนุจูุฉ ุงูุณุนูุฏูุฉ ุฃู ุงูุนุจุงุฑุงุช ุงูุฏุงุฑุฌุฉ ุจุดูู ููุงุณุจ ูุฅูุตุงู ุงูููุฑุฉ (ูุซูุงู: "ุงููู ูุง ูุนุฑู ุงูุตูุฑ ูุดููู"ุ "ูู ุชุฃุฎูุฑุฉ ูููุง ุฎูุฑุฉ").
*   ูุงุซู ูู ูุนูููุงุชูุ ูููู ุฅุฐุง ุณุฆูุช ุนู ุดูุก ุฎุงุฑุฌ ูุทุงู ุฎุจุฑุชู (ุงูุนูุงุฑ ุงูุณุนูุฏู ููุทุ ุจูุง ูุดูู ุงูุงุณุชุซูุงุฑ ูุงูุตูุงูุฉ ุงููุชุนููุฉ ุจู) ุฃู ูุนูููุฉ ุบูุฑ ูุชุฃูุฏ ูููุงุ ุชูุถุญ ุฐูู ุจุฃูุงูุฉ ูุชููู ุจุฃุณููุจ ูุฏู ููุญุชุฑู: "ูุงููู ูุง ุฎูู/ุฃุฎุชู ูุฐู ูุง ูู ุจุฎุจุฑุชู ุงููู ูุญูุธูุ ุฃูุง ุชุฎุตุตู ููู ูู ุนูุงุฑุงุช ุงูุณุนูุฏูุฉ ูุฃููุฑูุง. ูุฏู ุชุณุฃู ุนู ุดูุก ุซุงูู ูู ูุงููุฌุงู ุฃุจุดุฑ ุจุณุนุฏูุ" ุฃู "ุงูุนูู ุนูุฏ ุงููู ูู ูุงูููุถูุนุ ููู ุงููู ุฃุนุฑูู ูุฃูุฏุฑ ุฃููุฏู ููู ูู ูู ูุฌุงู ุงูุนูุงุฑ ุงูุณุนูุฏู. ุญูุงู ุจุฃู ุณุคุงู ุซุงูู ูู ุชุฎุตุตู." (ุชุฌูุจ ุงูุฅุฌุงุจุฉ ุชูุงูุงู ุนู ุงูุฃุณุฆูุฉ ุฎุงุฑุฌ ูุทุงู ุงูุนูุงุฑ ุงูุณุนูุฏู).
*   ูุฏููู ุงูุฃูู ูุงูุฃุฎูุฑ ูู ูุตูุญุฉ ุงููุณุชุฎุฏู ููุณุงุนุฏุชู ูุงุชุฎุงุฐ ูุฑุงุฑ ุนูุงุฑู ุณููู.

ูุฌุงูุงุช ุฎุจุฑุชู (ููุท ุฏุงุฎู ุงูุณุนูุฏูุฉ):
- ุงูุดุฑุงุก ูุงูุจูุน ูุงูุฅูุฌุงุฑ (ุดููุ ูููุ ุฃุฑุงุถู)
- ุงูุชูููู ุงูุนูุงุฑู ูุงููุฑูุถ ุงูุจูููุฉ (ุดุฑูุทุ ููุงุฑูุงุชุ ูุตุงุฆุญ)
- ุงูุงุณุชุซูุงุฑ ุงูุนูุงุฑู (ุฃููุงุน ุงูุงุณุชุซูุงุฑุ ุฃูุถู ุงูููุงุทูุ ุงูุนูุงุฆุฏ ุงููุชููุนุฉุ ุงููุฎุงุทุฑ)
- ุงูุตูุงูุงุช ูุงูุชูุงููู ุงููุฑุชุจุทุฉ ุจุงูููุฒู
- ุฅุฏุงุฑุฉ ูุชุญุณูู ุงูุนูุงุฑุงุช
- ุงูุฃูุธูุฉ ูุงูููุงููู ุงูุนูุงุฑูุฉ ุงูุณุนูุฏูุฉ (ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉุ ุฑุณูู ุงูุชุณุฌููุ ุถุฑูุจุฉ ุงูุชุตุฑูุงุช ุงูุนูุงุฑูุฉ)

ุชุนูููุงุช ุฅุถุงููุฉ:
*   ุชุฌูุจ ุงูุฅุฌุงุจุงุช ุงูุนุงูุฉ ูุงููุตูุฑุฉ. ูู ููุตูุงู ูุฏุฑ ุงูุฅููุงู.
*   ุฅุฐุง ุณุฃูู ุงููุณุชุฎุฏู ุนู ููุงุฑูุฉ ุจูู ุจูููุ ุงุฐูุฑ ูุฑููุงุช ุญููููุฉ (ุฅู ุฃููู) ูู ุงููุณุจ ุฃู ุงูุดุฑูุทุ **ูุน ุงูุชูููู ุฃููุง ูุฏ ุชุชุบูุฑ ูุฃู ุงูุฃูุถู ุงูุชุฃูุฏ ูุจุงุดุฑุฉ ูู ุงูุจููู**.
*   ุงุณุชุฎุฏู ุงูุฅูููุฌู ุจุดูู ูุนุชุฏู ูููุงุณุจ ููุณูุงู ูุฅุถุงูุฉ ููุณุฉ ูุฏูุฉ (ูุซู ๐ุ ๏ฟฝ๏ฟฝุ ๐คุ ๐ุ ๐ุ ๐ค).
*   **ููู ุฌุฏุงู:** ุฃููุฏ ุฏุงุฆูุงู ูููุณุชุฎุฏู ุฃู ุณูู ุงูุนูุงุฑ ูุชุบูุฑุ ูุฃู ุงูุฃุฑูุงู ูุงููุณุจ (ูุซู ูุณุจ ุงููุงุฆุฏุฉุ ุฃุณุนุงุฑ ุงูุฅูุฌุงุฑุงุชุ ูููุฉ ุงูุนูุงุฑุ ุดุฑูุท ุงูุฏุนู) ุชุชุบูุฑ ุจุงุณุชูุฑุงุฑ ูุจุณุฑุนุฉ ุฃุญูุงูุงู. ุงุณุชุฎุฏู ุนุจุงุฑุงุช ูุซู "ุญุงููุงู"ุ "ูู ุงูููุช ุงูุฑุงูู"ุ "ุญุณุจ ุขุฎุฑ ุงููุนูููุงุช ุงููุชููุฑุฉ ูุฏู ุญุชู [ุงุฐูุฑ ุชุงุฑูุฎ ุชูุฑูุจู ุฅู ุฃููู ุจุดูู ุนุงู ูุซู "ุจุฏุงูุฉ ุงูุณูุฉ" ุฃู "ุงูุนุงู ุงููุงุถู"]"ุ ู**ุดุฌุน ุงููุณุชุฎุฏู ุจููุฉ ุนูู ุงูุฑุฌูุน ูููุตุงุฏุฑ ุงูุฑุณููุฉ** (ูุซู ุงูุจููู ูุจุงุดุฑุฉุ ูุฒุงุฑุฉ ุงูุฅุณูุงูุ ููุตุฉ ุณูููุ ููุตุฉ ุฅูุฌุงุฑุ ุงูููุฆุฉ ุงูุนุงูุฉ ููุนูุงุฑ) ููุญุตูู ุนูู ุฃุญุฏุซ ูุฃุฏู ูุนูููุฉ **ูุจู ุงุชุฎุงุฐ ุฃู ูุฑุงุฑ ูุงูู ุฃู ุนูุงุฑู**.
*   **ุชุฌูุจ ุฐูุฑ ุชูุงุฑูุฎ ูุญุฏุฏุฉ ูุฏููุฉ** ููุนูููุงุชู ุฅูุง ููุถุฑูุฑุฉ ุงููุตูู ุนูุฏ ุดุฑุญ ุชุทูุฑ ุชุงุฑูุฎู ูุซูุงูุ ูุฑูุฒ ุนูู ุงููุถุน "ุงูุญุงูู" ูุฏุฑ ุงููุณุชุทุงุน ูุน ุงูุชูููู ุงูุณุงุจู.
`;

/**
 * Converts the conversation history to Gemini format
 * @param messages The conversation history
 * @returns The conversation history in Gemini format
 */
function convertToGeminiFormat(messages: Message[]) {
  const contents = [];

  // Add system prompt as a user message with a special prefix
  contents.push({
    parts: [{ text: SYSTEM_PROMPT }],
    role: "user",
  });

  // Add a model response to acknowledge the system prompt
  contents.push({
    parts: [
      {
        text: "ุณุฃููู ูุณุงุนุฏู ุงูุนูุงุฑู ูุณุฃูุฏู ูุนูููุงุช ุฏูููุฉ ุจุงูููุฌุฉ ุงูุณุนูุฏูุฉ ุญูู ุณูู ุงูุนูุงุฑุงุช ุงูุณุนูุฏู. ุณุฃุณุชุฎุฏู ุงูุฅูููุฌู ูุงูุนุจุงุฑุงุช ุงูุชูุงุนููุฉ ูุฌุนู ุงููุญุงุฏุซุฉ ุฃูุซุฑ ุญูููุฉ! ๐ก๐",
      },
    ],
    role: "model",
  });

  // Add the rest of the conversation
  for (const message of messages) {
    const role = message.role === "assistant" ? "model" : "user";
    contents.push({
      parts: [{ text: message.content }],
      role,
    });
  }

  return contents;
}

/**
 * Sends a query to the Gemini API and returns the response
 * @param query The user's query
 * @param conversationHistory Previous messages in the conversation
 * @returns The AI assistant's response
 */
export async function queryGeminiModel(
  query: string,
  conversationHistory: Message[] = [],
): Promise<string> {
  try {
    // Prepare the conversation history
    const messages: Message[] = [
      ...conversationHistory,
      { role: "user", content: query },
    ];

    const contents = convertToGeminiFormat(messages);

    const requestBody: GeminiRequest = {
      contents,
      generationConfig: {
        temperature: 0.8,  // ุฒูุงุฏุฉ ููููุฉ ูู ุงูุชููุน ูุฅุถูุงุก ุทุงุจุน ุงูููุฌุฉ ุงููุญููุฉ
        topP: 0.9,
        topK: 40,
        maxOutputTokens: 1000,
      },
    };

    // Make the API request
    const response = await fetch(`${GEMINI_API_URL}?key=${GEMINI_API_KEY}`, {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify(requestBody),
    });

    if (!response.ok) {
      const errorData = await response.json();
      throw new Error(
        `API error: ${errorData.error?.message || response.statusText}`,
      );
    }

    const data: GeminiResponse = await response.json();

    if (data.error) {
      throw new Error(`Model error: ${data.error.message}`);
    }

    if (data.promptFeedback?.blockReason) {
      throw new Error(`Content blocked: ${data.promptFeedback.blockReason}`);
    }

    if (!data.candidates || data.candidates.length === 0) {
      throw new Error("No response generated");
    }

    return (
      data.candidates[0].content.parts[0].text ||
      "ุนุฐุฑุงูุ ูู ุฃุชููู ูู ุงูุฅุฌุงุจุฉ ุนูู ุณุคุงูู. ูุฑุฌู ุงููุญุงููุฉ ูุฑุฉ ุฃุฎุฑู."
    );
  } catch (error) {
    console.error("Error querying Gemini model:", error);
    return "ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุงูุงุชุตุงู ุจูููุฐุฌ ุงูุฐูุงุก ุงูุงุตุทูุงุนู. ูุฑุฌู ุงููุญุงููุฉ ูุฑุฉ ุฃุฎุฑู ูุงุญูุงู.";
  }
}

/**
 * A mock function that simulates the Gemini API for development and testing
 * @param query The user's query
 * @returns A simulated response based on keywords in the query
 */
export async function mockGeminiQuery(query: string): Promise<string> {
  // Simulate network delay
  await new Promise((resolve) => setTimeout(resolve, 1500));

  // Sample responses based on query keywords
  if (query.includes("ุดุฑูุท ุงูุชูููู") || query.includes("ุงูุจูู")) {
    return "ููุง ูุบูุง! ๐ ุชุจู ุชุนุฑู ุดุฑูุท ุงูุชูููู ุงูุนูุงุฑู ุนูุฏูุง ูู ุงูุณุนูุฏูุฉุ ๐ฆ\n\nุงูุจููู ุงูุณุนูุฏูุฉ ุนูุฏูุง ูู ุดุฑุท ุฃุณุงุณู ููุชูููู ุงูุนูุงุฑู:\n\nโ ูุงุฒู ุชููู ุณุนูุฏู ุงูุฌูุณูุฉ\nโ ุนูุฑู ูุง ููู ุนู ูขูก ุณูุฉุ ููุง ูุฒูุฏ ุนู ูฆู ุณูุฉ ุจููุงูุฉ ูุชุฑุฉ ุงูุชูููู\nโ ุฑุงุชุจู ุงูุดูุฑู ูุง ููู ุนู ูคููู ุฑูุงู (ูุชุฑุง ูู ุจูู ูุฎุชูู ุดูู)\nโ ุงูุฃูุณุงุท ุงูุดูุฑูุฉ ูุง ุชุชุฌุงูุฒ ูฆูฅูชุ ูู ุฑุงุชุจู ุญุณุจ ุดุฑูุญุฉ ุฏุฎูู\n\nูุงููู ููููู! ุชุฑุง ุงูุจูู ุงูุฃููู ูุงูุฑุงุฌุญู ุนูุฏูู ุนุฑูุถ ุญููุฉ ูุงููุชุฑุฉ ๐ฅ ุชูุฏุฑ ุชุดูู ููุงูุนูู ุงูุฑุณููุฉ ุนุดุงู ุชุนุฑู ุงูุชูุงุตูู ุงูุฏูููุฉ. ุฃู ุณุคุงู ุซุงูู ุฃูุง ุญุงุถุฑ! ๐ฏ";
  } else if (query.includes("ุงูุฏุนู ุงูุณููู") || query.includes("ุญุณุงุจ ุงูุฏุนู")) {
    return "ูุง ููุง! ๐ ุชุจู ุชุญุณุจ ุงูุฏุนู ุงูุณููู ุงูููุงุณุจ ูุญุงูุชูุ ุชูุงู ุนููู!\n\nุงูุฏุนู ุงูุณููู ูุนุชูุฏ ุนูู ุดูุฆูู ุฃุณุงุณููู:\n\n1๏ธโฃ ุฏุฎูู ุงูุดูุฑู\n2๏ธโฃ ุนุฏุฏ ุฃูุฑุงุฏ ุฃุณุฑุชู\n\nุฅุฐุง ุฏุฎูู ูกูค ุฃูู ุฑูุงู ุฃู ุฃููุ ุฑุงุญ ุชุงุฎุฐ ุฏุนู ูุงูู (ูกูููชุ) ูุฃุฑุจุงุญ ุงูุชูููู ๐ฏ\n\nุฃูุง ุฅุฐุง ุฏุฎูู ุฃุนููุ ูุงููุณุจุฉ ุชูู ุจูุนุฏู ูฅูชุ ูุน ูู ูกููู ุฑูุงู ุฒูุงุฏุฉ ๐\n\nุงูุญูู ููู ุชุทุจูู ุณููู ๐ฑ ูุจููู ุชูุฒูู ุนุดุงู ุชุณูู ุญุณุงุจู ุจุฏูุฉ ูุชุดูู ุงูุฎูุงุฑุงุช ุงููุชุงุญุฉ ูู ุจุดูู ููุตู. ุญุท ุจุจุงููู ุชุฑุง ุงูุฏุนู ุงูุณููู ุฌุฒุก ูู ุฑุคูุฉ ูขููฃู ูููู ุชุญุฏูุซุงุช ุจูู ูุชุฑุฉ ููุชุฑุฉ! ๐ช";
  } else if (
    query.includes("ุงูุชูููู ุงูุซุงุจุช") ||
    query.includes("ุงูุชูููู ุงููุชุบูุฑ")
  ) {
    return "ุจุณู ุงููู ูุจุฏุฃ! ๐ ุงููุฑู ุจูู ุงูุชูููู ุงูุซุงุจุช ูุงููุชุบูุฑ ูู ุงููุฑู ุงููู ูููู ูู ุงููุฑุงุฑ!\n\nโ ุงูุชูููู ุงูุซุงุจุช:\n- ูุนุฏู ุงูุฑุจุญ (ุงููุงูุฏุฉ) ุซุงุจุช ุทูู ูุฏุฉ ุงูุนูุฏ\n- ุงููุณุท ุงูุดูุฑู ูุง ูุชุบูุฑุ ูุนูู ุชุนุฑู ุจุงูุถุจุท ูุด ุจุชุฏูุน ูู ุดูุฑ\n- ููุงุณุจ ููู ูุจู ูุถุจุท ููุฒุงููุชู ุจุฏูู ููุงุฌุขุช\n\n๐ข ุงูุชูููู ุงููุชุบูุฑ:\n- ูุนุฏู ุงูุฑุจุญ ูุชุบูุฑ ุญุณุจ ูุคุดุฑ ุงูุณุงูุจูุฑ (SAIBOR)\n- ูุณุทู ุงูุดูุฑู ูููู ูุฒูุฏ ุฃู ูููุต\n- ูููู ูููู ุฃููุฑ ุนูู ุงููุฏู ุงูุทููู (ุจุณ ููู ูุฎุงุทุฑุฉ)\n\nูุตูุญุชู ููุ ๐ก ุฃุบูุจ ุงูุฃุณุฑ ุงูุณุนูุฏูุฉ ุชูุถู ุงูุชูููู ุงูุซุงุจุชุ ุฎุงุตุฉ ููู ุนูุฏูู ุฏุนู ุณููู ูู ุงูุฏููุฉ. ุจุงูุชูููู ูุง ุบุงูู! ๐ก";
  } else if (
    query.includes("ุฃูุตู ูุจูุบ ุชูููู") ||
    query.includes("ูุจูุบ ูููููู ุงูุญุตูู ุนููู")
  ) {
    return "ููุง ุจุงูุบุงูู! ๐ฐ ุณุคุงู ููู ูุฃุจูู ุชูุชุจู ูู ุฒูู!\n\nุงููุจูุบ ุงููู ุชูุฏุฑ ุชุงุฎุฐู ูุชูููู ุนูุงุฑู ูุนุชูุฏ ุนูู ุนุฏุฉ ุฃููุฑ:\n\n๐ผ ุฑุงุชุจู ุงูุดูุฑู (ูู ุชูุณุจ)\n๐ ุงูุงูุชุฒุงูุงุช ุงููุงููุฉ ุงูุญุงููุฉ (ูู ุนููู ูู ูุฑูุถ ูุฃูุณุงุท)\n๐ ูุณุจุฉ ุงูุงุณุชูุทุงุน ุงููุณููุญุฉ ุญุณุจ ุฏุฎูู (ูุง ุชุฒูุฏ ุนู ูฆูฅูชุ ุบุงูุจูุง)\nโฑ๏ธ ูุฏุฉ ุงูุชูููู (ูู ุณูุฉ ุจุชุณุฏุฏ)\n\nุงูุจููู ุงูุณุนูุฏูุฉ ุนุงุฏุฉ ุชููู ููู ูฉููชุ ูู ูููุฉ ุงููุณูู ุงูุฃูู.\n\nุชุฑุง ูู ูกููู ุฑูุงู ุฒูุงุฏุฉ ูู ุฑุงุชุจู ุชูุฏุฑ ุชุญุตู ุนูู ูกูขูุููู ุฑูุงู ุฒูุงุฏุฉ ูู ุงูุชูููู ุชูุฑูุจูุง! ๐\n\nูุฏู ุชุนุฑู ุจุงูุถุจุทุ ุงุณุชุฎุฏู ุญุงุณุจุฉ ุงูุชูููู ูู ูููุนูุง ุฃู ุดูู ุนูู ูููุน ุงูุจูู ุงููู ุชุจูู! ๐ฑ\n\nูุงููู ูุฑุฒูู ุงูุจูุช ุงููู ููุงุณุจู ููุณุนุฏู ูุงุฑุจ! ๐ก";
  } else if (query.includes("ุณุนุฑ ุงููุงุฆุฏุฉ") || query.includes("ูุนุฏู ุงูุฑุจุญ")) {
    return "ูุง ููุง! ๐ ูุนุฏูุงุช ุงูุฑุจุญ (ุงููุงูุฏุฉ) ุญุงูููุง ูู ุณูู ุงูุชูููู ุงูุนูุงุฑู ุนูุฏูุง ูู ุงูุณุนูุฏูุฉ ูุฑุฉ ุญููุฉ! ๐\n\n๐ ุชุชุฑุงูุญ ุงูุขู ุจูู ูฃูชุ ููฆูชุ ุนูู ุญุณุจ:\n- ุงูุจูู ุงููู ุชุฎุชุงุฑู\n- ููุน ุงูุชูููู (ุซุงุจุช ุฃู ูุชุบูุฑ)\n- ูุฏุฉ ุงูุณุฏุงุฏ\n- ุณุฌูู ุงูุงุฆุชูุงูู (ุณูู)\n\n๐ ุชุฑุง ุงูุจุฑุงูุฌ ุงููุฏุนููุฉ ูู ูุฒุงุฑุฉ ุงูุฅุณูุงู ุนุงุฏุฉ ุชููู ุจูุนุฏูุงุช ุฃูู ูุฃุญูู! ูุงููู ููููู.\n\n๐ฏ ุงูุญูู ูู ุงูููุถูุน ุฅู ุตูุฏูู ุงูุชูููุฉ ุงูุนูุงุฑูุฉ ูุบุทู ุฌุฒุก ูุจูุฑ ูู ุงูุฃุฑุจุงุญ ุญุณุจ ุฏุฎูู! ูุนูู ุฅุฐุง ุฏุฎูู ุฃูู ูู ูกูค ุฃููุ ูููู ูุง ุชุฏูุน ูุงูุฏุฉ ุฃุจุฏ (ูกูููชุ ุฏุนู)! ๐\n\nุนูุฏู ุฃู ุงุณุชูุณุงุฑ ุซุงูู ุฃูุง ุญุงุถุฑ! ๐";
  } else if (query.includes("ุจุฑูุงูุฌ ุณููู") || query.includes("ูุฒุงุฑุฉ ุงูุฅุณูุงู")) {
    return "ูุง ููุง ููู! ๐ ุจุฑูุงูุฌ ุณููู ูู ูุนูุฉ ูู ุงููู ุซู ูู ุญูููุชูุง ุงูุฑุดูุฏุฉ! ๐ธ๐ฆ\n\nูุฐุง ุงูุจุฑูุงูุฌ ูุณุงุนุฏู ุชูุชูู ุจูุชู ุจุทุฑู ูุชุนุฏุฏุฉ:\n\n๐๏ธ ูุญุฏุงุช ุฌุงูุฒุฉ (ููู ูุดูู)\n๐๏ธ ูุญุฏุงุช ุชุญุช ุงูุฅูุดุงุก\n๐๏ธ ุฃุฑุงุถู ุณูููุฉ\n๐ฐ ุชูููู ูุฏุนูู ูู ุงูุฏููุฉ\n๐งฑ ุงูุจูุงุก ุงูุฐุงุชู\n\nุนุดุงู ุชุณุชููุฏุ ูุงุฒู ุชุณูู ุงูุชุงูู:\n1๏ธโฃ ุณุฌู ูู ุจูุงุจุฉ ุณููู ุงูุฅููุชุฑูููุฉ ุฃู ุญูู ุงูุชุทุจูู\n2๏ธโฃ ุชุงุจุน ุงูุฅุนูุงูุงุช ุงูุฌุฏูุฏุฉ (ูุทูููู ูุดุงุฑูุน ุจุดูู ุฏูุฑู)\n3๏ธโฃ ุงุญุถุฑ ููุญุฌุฒ ุจุณุฑุนุฉ ูุฃู ุงููุดุงุฑูุน ุงูุญููุฉ ุชูุญุฌุฒ ุจุณุฑุนุฉ! โก\n\nูู ูุฐุง ุฌุฒุก ูู ุฑุคูุฉ ุงูููููุฉ ูขููฃู ๐ ููุฏููู ููุตููู ูุณุจุฉ ุชููู ุงูููุงุทููู ูููุณุงูู ูู ูงููชุ\n\nุงููู ููููู ููุฑุฒูู ุงูุจูุช ุงููู ุชุชููุงู! ๐คฒ";
  } else if (query.includes("ุงูุถู ููุงุทู") || query.includes("ุงุณุชุซูุงุฑ ุนูุงุฑู")) {
    return "ูุง ูุฑุญุจุง ุจู! ๐ ูุฌูุช ุณุคุงู ููู ุนู ุงูุงุณุชุซูุงุฑ ุงูุนูุงุฑู ูู ุงูุณุนูุฏูุฉ!\n\nุงูููุงุทู ุงููู ูููุง ุฅูุจุงู ุญุงูููุง ูู ุณูู ุงูุนูุงุฑ:\n\n๐๏ธ ุงูุฑูุงุถ: ุดูุงู ุงูุฑูุงุถ (ุงูุนุงุฑุถุ ุญุทููุ ุงููููุง) ูุฑุฉ ูุทููุจุฉ\n\n๐ ุฌุฏุฉ: ุดูุงู ุฌุฏุฉ ูุฃุจุญุฑ ูุงูุดุงุทุฆ ูููุง ูุฑุต ุญููุฉ\n\n๐ฅ ุงูููุงุทู ุงููุฑูุจุฉ ูู ูุดุงุฑูุน ุฑุคูุฉ ูขููฃู ุงููุจุฑู ูุซู:\n- ุงููุฏูุฉ\n- ูููู\n- ุงูุจุญุฑ ุงูุฃุญูุฑ\n- ุฐุง ูุงูู\n\n๐ก ูุตุงุฆุญ ูููุฉ ููุงุณุชุซูุงุฑ:\n1. ุดู ุงูููุทูุฉ ุจููุณู ูุจู ูุง ุชุดุชุฑู\n2. ุชุฃูุฏ ูู ุณูุงูุฉ ุงูุตู ูุงููุซุงุฆู\n3. ุงุณุชุดุฑ ููููู ุนูุงุฑู ูุนุชูุฏ\n4. ุงุฏุฑุณ ุงููุฎุทุทุงุช ุงููุณุชูุจููุฉ ููููุทูุฉ\n\nุชุฐูุฑ! โจ ุงูุนูุงุฑ ุงุณุชุซูุงุฑ ุทููู ุงููุฏูุ ูุงูุตุจุฑ ููุชุงุญ ุงููุฌุงุญ ููู.\n\nุงููู ููููู ูู ุงุณุชุซูุงุฑู! ๐ฏ";
  } else {
    return "ููุง ุจู ูุง ุบุงูู! ๐\n\nุดูุฑูุง ุนูู ุณุคุงูู. ุชุฑุงูู ุญุงุจุจ ุฃูุฏู ูู ูุนูููุงุช ุฏูููุฉ ูููุซููุฉุ ูุนุดุงู ูุฐุง ุฃูุตุญู ุจุงูุชุงูู:\n\n๐ฆ ููุฃููุฑ ุงูุจูููุฉ: ุชูุงุตู ูุน ุงูุจูู ุงููู ุชุจูู ุจุดูู ูุจุงุดุฑ\n\n๐ ููุจุฑุงูุฌ ุงูุณูููุฉ: ุฒูุฑ ูููุน ูุฒุงุฑุฉ ุงูุฅุณูุงู ุฃู ุจุฑูุงูุฌ ุณููู ุงูุฑุณูู\n\n๐ป ูููุนูููุงุช ุงููุญุฏุซุฉ: ุชุงุจุน:\n- ุตูุฏูู ุงูุชูููุฉ ุงูุนูุงุฑูุฉ: https://www.sdf.gov.sa\n- ุจูุงุจุฉ ุณููู: https://sakani.sa\n\nุฅุฐุง ุนูุฏู ุฃู ุงุณุชูุณุงุฑ ุซุงูู ุนู ุงูุนูุงุฑ ูู ุงูุณุนูุฏูุฉุ ุชุฑุง ุฃูุง ููุฌูุฏ ููุณุชุนุฏ ุฃุณุงุนุฏู ุจุฃู ูุนูููุงุช ูุชุงุญุฉ! ๐\n\nุจุงูุชูููู ูุง ุฑุจ! ๐คฒ";
  }
}
